<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Fuentes de información | Índice de Calidad del Entorno</title>
<meta name="author" content="Diana Villasana Ocampo">
<meta name="description" content="Primeramente, las fuentes de información que se utilizaron para la realización del índice de calidad del entorno se enumeran a continuación: CPV2020 El Censo de Población y Vivienda 2020 (CPV2020)...">
<meta name="generator" content="bookdown 0.40 with bs4_book()">
<meta property="og:title" content="Fuentes de información | Índice de Calidad del Entorno">
<meta property="og:type" content="book">
<meta property="og:url" content="https://github.com/dvillasanao/ICE_2020/fuentes-de-información.html">
<meta property="og:image" content="https://raw.githubusercontent.com/dvillasanao/ICE_2020/main/images/logo.svg">
<meta property="og:description" content="Primeramente, las fuentes de información que se utilizaron para la realización del índice de calidad del entorno se enumeran a continuación: CPV2020 El Censo de Población y Vivienda 2020 (CPV2020)...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Fuentes de información | Índice de Calidad del Entorno">
<meta name="twitter:description" content="Primeramente, las fuentes de información que se utilizaron para la realización del índice de calidad del entorno se enumeran a continuación: CPV2020 El Censo de Población y Vivienda 2020 (CPV2020)...">
<meta name="twitter:image" content="https://raw.githubusercontent.com/dvillasanao/ICE_2020/main/images/logo.svg">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.7.0/transition.js"></script><script src="libs/bs3compat-0.7.0/tabs.js"></script><script src="libs/bs3compat-0.7.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><link href="libs/htmltools-fill-0.5.8.9000/fill.css" rel="stylesheet">
<script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script><script src="libs/plotly-binding-4.10.2/plotly.js"></script><script src="libs/typedarray-0.1/typedarray.min.js"></script><link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script><link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script><link href="libs/vis-9.1.0/vis-network.min.css" rel="stylesheet">
<script src="libs/vis-9.1.0/vis-network.min.js"></script><script src="libs/visNetwork-binding-2.1.2/visNetwork.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<title></title>
<script>
        $(function() {
            $("#toc h2").html("Contenido");
        });
    </script><script>
        $(function() {
            $(".sidebar h2").html("Contenido");
        });
    </script><script>
      $(document).ready(function() {
        $head = $('#header');
        $head.prepend('<div class="knitr source"><img src="images/conapo.png" width="220px" align="right"   ></div>')
      });
    </script><script type="text/javascript">

    // toggle visibility of R source blocks in R Markdown output
    function toggle_R() {
      var x = document.getElementsByClassName('r');
      if (x.length == 0) return;
      function toggle_vis(o) {
        var d = o.style.display;
        o.style.display = (d == 'block' || d == '') ? 'none':'block';
      }

      for (i = 0; i < x.length; i++) {
        var y = x[i];
        if (y.tagName.toLowerCase() === 'pre') toggle_vis(y);
      }

        var elem = document.getElementById("myButton1");
        if (elem.value === "Hide Global") elem.value = "Show Global";
        else elem.value = "Hide Global";
    }

    document.write('<input onclick="toggle_R();" type="button" value="Hide Global" id="myButton1" style="position: absolute; top: 0%; right: 10%; z-index: 200"></input>')

    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-2 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>
    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Índice de Calidad del Entorno</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>
    <div id="main-nav" class="indice_izquierda">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>
      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Introducción</a></li>
<li><a class="" href="metodolog%C3%ADa.html">Metodología</a></li>
<li><a class="active" href="fuentes-de-informaci%C3%B3n.html">Fuentes de información</a></li>
<li><a class="" href="municipio-4.html">Municipio</a></li>
<li><a class="" href="localidad-4.html">Localidad</a></li>
<li><a class="" href="ageb-3.html">AGEB</a></li>
<li><a class="" href="resumen-general.html">Resumen general</a></li>
<li><a class="" href="referencias.html">Referencias</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/dvillasanao/ICE_2020">View book repository <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="fuentes-de-información" class="section level1 unnumbered">
<h1>Fuentes de información<a class="anchor" aria-label="anchor" href="#fuentes-de-informaci%C3%B3n"><i class="fas fa-link"></i></a>
</h1>
<p>Primeramente, las fuentes de información que se utilizaron para la realización del índice de calidad del entorno se enumeran a continuación:</p>
<div id="cpv2020" class="section level2 unnumbered">
<h2>CPV2020<a class="anchor" aria-label="anchor" href="#cpv2020"><i class="fas fa-link"></i></a>
</h2>
<p>El Censo de Población y Vivienda 2020 (CPV2020) del INEGI (Instituto Nacional de Estadística y Geografía) el objetivo fue recopilar información detallada y actualizada sobre la población y las viviendas de México para ser utilizada en la toma de decisiones y la planificación de políticas públicas y privadas en el país. Esto incluye datos sobre la cantidad y características de las personas que viven en el país, como su edad, sexo, educación, ocupación, entre otros aspectos, así como información sobre la estructura y características de las viviendas en las que habitan. El cúal este tpo de informción es importante para la planificación y la toma de decisiones en áreas como la política pública, la inversión en infraestructura, la distribución de recursos y servicios, la investigación demográfica y social, y muchas otras. Además, también es utilizado por empresas y organizaciones para el análisis de mercado y la toma de decisiones estratégicas.</p>
</div>
<div id="equipamiento" class="section level2 unnumbered">
<h2>Equipamiento<a class="anchor" aria-label="anchor" href="#equipamiento"><i class="fas fa-link"></i></a>
</h2>
<p><a href="images/IE_Subsectores.png" data-lightbox="image-1" data-title="Subsectores">
<img src="images/IE_Subsectores.png" width="100%"></a></p>
<div id="denue" class="section level3 unnumbered">
<h3>DENUE<a class="anchor" aria-label="anchor" href="#denue"><i class="fas fa-link"></i></a>
</h3>
<p><a href="https://www.inegi.org.mx/rnm/index.php/catalog/668">El Directorio Estadístico Nacional de Unidades Económicas (DENUE)</a> es la infraestructura mínima del Subsistema Nacional de Información Económica (SNIE), cuyo propósito es proveer a los usuarios tanto especializados como no especializados de los datos de identificación, ubicación y contacto de las unidades económicas activas en el territorio nacional para el desarrollo y evaluación, tanto de políticas públicas como de programas de fomento económico en los tres niveles de gobierno; así como apoyo en el proceso de toma de decisiones para direccionar la inversión y optimizar recursos tanto en el ámbito público como en el privado.</p>
<p><a href="https://www.inegi.org.mx/rnm/index.php/catalog/668">El Directorio Estadístico Nacional de Unidades Económicas (DENUE)</a> del INEGI cuyo objetivo es proporcionar una base de datos actualizada y completa de las unidades económicas en México. Esto incluye empresas, establecimientos, instituciones gubernamentales, organizaciones sin fines de lucro, entre otras entidades que realizan actividades económicas en el país. Este tipo de insumo sirve como base para la planificación económica, la investigación y la toma de decisiones en áreas como la inversión, el análisis de mercado, el diseño de políticas públicas, la identificación de oportunidades comerciales, entre otras. Además, también es utilizado por el sector empresarial para el análisis de la competencia, la segmentación de mercado, la identificación de clientes potenciales, entre otros fines.</p>
<p><strong>[Sistema de Clasificación Industrial de América del Norte, 2018 (SCIAN)]</strong></p>
<p>El objetivo del SCIAN México es proporcionar un marco único, consistente y actualizado para la recopilación, análisis y presentación de estadísticas de tipo económico, que refleje la estructura de la economía mexicana. El SCIAN México es la base para la generación, presentación y difusión de todas las estadísticas económicas del INEGI. Su adopción por parte de las Unidades del Estado, permitirá homologar la información económica que se produce en el país, y con ello contribuir a la de la región de América del Norte.</p>
<p><strong>UNIDAD DE ANÁLISIS</strong></p>
<p>Las unidades económicas a las que está referida la información del DENUE son dos: El establecimiento y la empresa.</p>
<ul>
<li>
<p><strong>El establecimiento:</strong> unidad económica que, en una sola ubicación física, asentada en un lugar de manera permanente y delimitada por construcciones e instalaciones fijas, combina acciones y recursos bajo el control de una sola entidad propietaria o controladora para realizar alguna actividad económica sea con fines de lucro o no.</p>
<p>Incluye a las viviendas en las que se realizan actividades económicas y excluye a las viviendas en las que se llevan a cabo actividades económicas con fines de autoconsumo, así como los servicios que se realizan en otros sitios.</p>
</li>
<li><p><strong>La empresa:</strong> organización, propiedad de una sola entidad jurídica, que realiza una o más actividades económicas, con autonomía en la toma de decisiones de mercadeo, financiamiento e inversión, al contar con la autoridad y responsabilidad de distribuir recursos de acuerdo con un plan o estrategia de producción de bienes y servicios, pudiendo estar ubicada u operar en varios domicilios.</p></li>
<li><p><strong>Se excluye</strong> a las unidades económicas que llevan a cabo actividades de manera ambulante o aquellas en las que los locales en los que se efectúa la actividad económica son desmontables y se remueven diariamente.</p></li>
</ul>
<p>Se consideran 13 subsistemas económicos de los cuales se clasificaron 52 elementos económicos que pertenecen a los subistemas.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/load.html">load</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"/Bases/Claves_subsistema_SCIAN2018.RData"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Se cargan todas las bases del DENUE 2021 que se van a usar, el cúal después se van a seleccionar los subramos económicos.</p>
<p>Descarga masiva
En esta sección podrás descargar los archivos del DENUE, el Banco de Indicadores, el Inventario Nacional de Viviendas, Microdatos y la Sala de prensa por área geográfica, proyectos, años de la información, temas y formatos para poder utilizar la información en forma local en tu equipo.
Title: Directorio Estadístico Nacional de Unidades Económicas (DENUE) 05_2021</p>
<p>Se muestra el algoritmo para integrar el DENUE</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tablas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"43"</span>, <span class="st">"46111"</span>, <span class="st">"46112-46311"</span>,<span class="st">"46321-46531"</span>, <span class="st">"46591-46911"</span>, <span class="st">"48-49"</span>, <span class="st">"51"</span>, <span class="st">"52"</span>, <span class="st">"56"</span>, <span class="st">"61"</span>, <span class="st">"62"</span>, <span class="st">"71"</span>,  <span class="st">"72_1"</span>, <span class="st">"72_2"</span>, <span class="st">"81_1"</span>, <span class="st">"81_2"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Enlaces de las bases de datos (Descargas masivas | INEGI | DENUE)</span></span>
<span><span class="co">#https://www.inegi.org.mx/app/descarga/default.html</span></span>
<span><span class="va">url</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.table</a></span><span class="op">(</span>file <span class="op">=</span> <span class="st">"Bases/DENUE/Enlaces_DENUE_0521.txt"</span>, sep <span class="op">=</span> <span class="st">","</span><span class="op">)</span></span>
<span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">16</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/files.html">file.exists</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"/Bases/DENUE/denue_00_"</span>, <span class="va">tablas</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, <span class="st">"_0521_csv.zip"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/download.file.html">download.file</a></span><span class="op">(</span><span class="va">url</span><span class="op">[</span><span class="va">i</span>,<span class="op">]</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"/Bases/DENUE/denue_00_"</span>, <span class="va">tablas</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, <span class="st">"_0521_csv.zip"</span><span class="op">)</span>, mode <span class="op">=</span> <span class="st">"wb"</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Se agrupan 16 bases de datos en formato CVS en un solo data.frame </span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="va">tablas</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/assign.html">assign</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"df_"</span>,<span class="va">i</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"/DENUE/CSV/CSV/conjunto_de_datos/denue_inegi_"</span>,<span class="va">i</span>,<span class="st">"_.csv"</span><span class="op">)</span>, fileEncoding <span class="op">=</span> <span class="st">"latin1"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Se agrupan todas las tablas en una sola</span></span>
<span><span class="va">lista</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ls.html">ls</a></span><span class="op">(</span>pattern <span class="op">=</span>  <span class="st">"df_"</span><span class="op">)</span></span>
<span><span class="va">denue_2021</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html">do.call</a></span><span class="op">(</span><span class="va">rbind.data.frame</span>, <span class="fu"><a href="https://rdrr.io/r/base/get.html">mget</a></span><span class="op">(</span><span class="va">lista</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">denue_2021</span> <span class="op">&lt;-</span> <span class="va">denue_2021</span> <span class="op">%&gt;%</span></span>
<span>               <span class="fu">select</span><span class="op">(</span><span class="va">codigo_act</span>, <span class="va">nombre_act</span>, <span class="va">cve_ent</span>, <span class="va">entidad</span>, <span class="va">cve_mun</span>, <span class="va">municipio</span>, <span class="va">cve_loc</span>, <span class="va">localidad</span>, <span class="va">ageb</span>, <span class="va">manzana</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>                 <span class="fu">mutate</span><span class="op">(</span>cve_ent <span class="op">=</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_pad.html">str_pad</a></span><span class="op">(</span><span class="va">.</span><span class="op">$</span><span class="va">cve_ent</span>, <span class="fl">2</span>, <span class="st">"left"</span>, pad <span class="op">=</span> <span class="st">"0"</span><span class="op">)</span>, </span>
<span>                        cve_mun <span class="op">=</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_pad.html">str_pad</a></span><span class="op">(</span><span class="va">.</span><span class="op">$</span><span class="va">cve_mun</span>, <span class="fl">3</span>, <span class="st">"left"</span>, pad <span class="op">=</span> <span class="st">"0"</span><span class="op">)</span>,</span>
<span>                        cve_loc <span class="op">=</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_pad.html">str_pad</a></span><span class="op">(</span><span class="va">.</span><span class="op">$</span><span class="va">cve_loc</span>, <span class="fl">4</span>, <span class="st">"left"</span>, pad <span class="op">=</span> <span class="st">"0"</span><span class="op">)</span>,</span>
<span>                        ageb <span class="op">=</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_pad.html">str_pad</a></span><span class="op">(</span><span class="va">.</span><span class="op">$</span><span class="va">ageb</span>, <span class="fl">4</span>, <span class="st">"left"</span>, pad <span class="op">=</span> <span class="st">"0"</span><span class="op">)</span>,</span>
<span>                        manzana <span class="op">=</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_pad.html">str_pad</a></span><span class="op">(</span><span class="va">.</span><span class="op">$</span><span class="va">manzana</span>, <span class="fl">3</span>, <span class="st">"left"</span>, pad <span class="op">=</span> <span class="st">"0"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                   <span class="fu">mutate</span><span class="op">(</span>CVE_MUN <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">.</span><span class="op">$</span><span class="va">cve_ent</span>, <span class="va">.</span><span class="op">$</span><span class="va">cve_mun</span><span class="op">)</span>,</span>
<span>                          CVE_LOC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">.</span><span class="op">$</span><span class="va">cve_ent</span>, <span class="va">.</span><span class="op">$</span><span class="va">cve_mun</span>, <span class="va">.</span><span class="op">$</span><span class="va">cve_loc</span><span class="op">)</span>,</span>
<span>                          CVE_AGEB <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">.</span><span class="op">$</span><span class="va">cve_ent</span>, <span class="va">.</span><span class="op">$</span><span class="va">cve_mun</span>, <span class="va">.</span><span class="op">$</span><span class="va">cve_loc</span>, <span class="va">.</span><span class="op">$</span><span class="va">ageb</span><span class="op">)</span>, </span>
<span>                          CVE_MZA <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">.</span><span class="op">$</span><span class="va">cve_ent</span>, <span class="va">.</span><span class="op">$</span><span class="va">cve_mun</span>, <span class="va">.</span><span class="op">$</span><span class="va">cve_loc</span>, <span class="va">.</span><span class="op">$</span><span class="va">ageb</span>, <span class="va">.</span><span class="op">$</span><span class="va">manzana</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span><span class="co"># Se anexa la base de Claves</span></span>
<span>                    <span class="fu">left_join</span><span class="op">(</span><span class="va">.</span>, <span class="va">SCIAN</span>, </span>
<span>                               by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"codigo_act"</span> <span class="op">=</span> <span class="st">"CODIGO"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                      <span class="fu">mutate</span><span class="op">(</span>CVE_ELE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">.</span><span class="op">$</span><span class="va">CVE_ELE</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Se guarda la base de datos donde se integran 16 bases de datos</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/save.html">save</a></span><span class="op">(</span><span class="va">denue2021</span>, file <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"/Bases/DENUE/denue2021.RData"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Se integran las claves geoestadísticas para la elaboración de los indicadores simples</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Estructura integrada del DENUE</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/load.html">load</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"/Bases/denue_integrado.RData"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">codigo</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">SCIAN</span><span class="op">$</span><span class="va">CODIGO</span><span class="op">)</span></span></code></pre></div>
<div id="municipio" class="section level4 unnumbered">
<h4>Municipio<a class="anchor" aria-label="anchor" href="#municipio"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">denue_mun</span> <span class="op">&lt;-</span> <span class="va">denue_2021</span> <span class="op">%&gt;%</span></span>
<span>              <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">.</span><span class="op">$</span><span class="va">codigo_act</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="va">codigo</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>               <span class="fu">select</span><span class="op">(</span><span class="va">ELEMENTO</span>, <span class="va">CVE_MUN</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                <span class="fu">melt</span><span class="op">(</span><span class="va">.</span>, id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"CVE_MUN"</span><span class="op">)</span><span class="op">)</span>  <span class="op">%&gt;%</span></span>
<span>                 <span class="fu">mutate</span><span class="op">(</span>value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">.</span><span class="op">$</span><span class="va">value</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                  <span class="fu">acast</span><span class="op">(</span><span class="va">.</span>, <span class="va">CVE_MUN</span> <span class="op">~</span> <span class="va">value</span>, drop <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>                   <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>                    <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/rownames.html">rownames_to_column</a></span><span class="op">(</span><span class="va">.</span>, <span class="st">"CVE_MUN"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                     <span class="fu">mutate</span><span class="op">(</span>CVE_ENT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">.</span><span class="op">$</span><span class="va">CVE_MUN</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                      <span class="fu">relocate</span><span class="op">(</span><span class="va">CVE_ENT</span>, .before <span class="op">=</span> <span class="st">"CVE_MUN"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                       <span class="fu">group_by</span><span class="op">(</span><span class="va">CVE_ENT</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                        <span class="fu">mutate_at</span><span class="op">(</span><span class="fu">vars</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="va">CVE_ENT</span>, <span class="op">-</span><span class="va">CVE_MUN</span><span class="op">)</span><span class="op">)</span>, <span class="fu">funs</span><span class="op">(</span><span class="va">.</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span><span class="op">)</span><span class="op">)</span><span class="op">%&gt;%</span></span>
<span>                         <span class="fu"><a href="https://rdrr.io/r/base/replace.html">replace</a></span><span class="op">(</span><span class="va">.</span>, <span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span>, <span class="fl">0</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/save.html">save</a></span><span class="op">(</span><span class="va">denue_mun</span>, file <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"/Bases/Municipio/Indicadores_DENUE.RData"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="localidad" class="section level4 unnumbered">
<h4>Localidad<a class="anchor" aria-label="anchor" href="#localidad"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">denue_loc</span> <span class="op">&lt;-</span> <span class="va">denue_2021</span> <span class="op">%&gt;%</span></span>
<span>              <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">.</span><span class="op">$</span><span class="va">codigo_act</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="va">codigo</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>               <span class="fu">select</span><span class="op">(</span><span class="va">ELEMENTO</span>, <span class="va">CVE_LOC</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                <span class="fu">melt</span><span class="op">(</span><span class="va">.</span>, id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"CVE_LOC"</span><span class="op">)</span><span class="op">)</span>  <span class="op">%&gt;%</span></span>
<span>                 <span class="fu">mutate</span><span class="op">(</span>value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">.</span><span class="op">$</span><span class="va">value</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                  <span class="fu">acast</span><span class="op">(</span><span class="va">.</span>, <span class="va">CVE_LOC</span> <span class="op">~</span> <span class="va">value</span>, drop <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>                   <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>                    <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/rownames.html">rownames_to_column</a></span><span class="op">(</span><span class="va">.</span>, <span class="st">"CVE_LOC"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                     <span class="fu">mutate</span><span class="op">(</span>CVE_MUN <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">.</span><span class="op">$</span><span class="va">CVE_LOC</span>, <span class="fl">1</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                      <span class="fu">relocate</span><span class="op">(</span><span class="va">CVE_MUN</span>, .before <span class="op">=</span> <span class="st">"CVE_LOC"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                       <span class="fu">group_by</span><span class="op">(</span><span class="va">CVE_MUN</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                        <span class="fu">mutate_at</span><span class="op">(</span><span class="fu">vars</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="va">CVE_MUN</span>, <span class="op">-</span><span class="va">CVE_LOC</span><span class="op">)</span><span class="op">)</span>, <span class="fu">funs</span><span class="op">(</span><span class="va">.</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span><span class="op">)</span><span class="op">)</span><span class="op">%&gt;%</span></span>
<span>                         <span class="fu"><a href="https://rdrr.io/r/base/replace.html">replace</a></span><span class="op">(</span><span class="va">.</span>, <span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span>, <span class="fl">0</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/save.html">save</a></span><span class="op">(</span><span class="va">denue_loc</span>, file <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"/Bases/Localidad/Indicadores_DENUE.RData"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="ageb" class="section level4 unnumbered">
<h4>AGEB<a class="anchor" aria-label="anchor" href="#ageb"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">denue_ageb</span> <span class="op">&lt;-</span> <span class="va">denue_2021</span> <span class="op">%&gt;%</span></span>
<span>               <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">.</span><span class="op">$</span><span class="va">codigo_act</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="va">codigo</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                <span class="fu">select</span><span class="op">(</span><span class="va">ELEMENTO</span>, <span class="va">CVE_AGEB</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                 <span class="fu">melt</span><span class="op">(</span><span class="va">.</span>, id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"CVE_AGEB"</span><span class="op">)</span><span class="op">)</span>  <span class="op">%&gt;%</span></span>
<span>                  <span class="fu">mutate</span><span class="op">(</span>value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">.</span><span class="op">$</span><span class="va">value</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                   <span class="fu">acast</span><span class="op">(</span><span class="va">.</span>, <span class="va">CVE_AGEB</span> <span class="op">~</span> <span class="va">value</span>, drop <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>                    <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>                     <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/rownames.html">rownames_to_column</a></span><span class="op">(</span><span class="va">.</span>, <span class="st">"CVE_AGEB"</span><span class="op">)</span>  <span class="op">%&gt;%</span></span>
<span>                      <span class="fu">mutate</span><span class="op">(</span>CVE_LOC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">.</span><span class="op">$</span><span class="va">CVE_AGEB</span>, <span class="fl">1</span>, <span class="fl">9</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                       <span class="fu">relocate</span><span class="op">(</span><span class="va">CVE_LOC</span>, .before <span class="op">=</span> <span class="st">"CVE_AGEB"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                        <span class="fu">group_by</span><span class="op">(</span><span class="va">CVE_LOC</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                         <span class="fu">mutate_at</span><span class="op">(</span><span class="fu">vars</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="va">CVE_LOC</span>, <span class="op">-</span><span class="va">CVE_AGEB</span><span class="op">)</span><span class="op">)</span>, <span class="fu">funs</span><span class="op">(</span><span class="va">.</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span><span class="op">)</span><span class="op">)</span><span class="op">%&gt;%</span></span>
<span>                          <span class="fu"><a href="https://rdrr.io/r/base/replace.html">replace</a></span><span class="op">(</span><span class="va">.</span>, <span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span>, <span class="fl">0</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/save.html">save</a></span><span class="op">(</span><span class="va">denue_ageb</span>, file <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"/Bases/AGEB/Indicadores_DENUE.RData"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div id="sep" class="section level3 unnumbered">
<h3>SEP<a class="anchor" aria-label="anchor" href="#sep"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/load.html">load</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"/Bases/SEP_Estructura.RData"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div id="municipio-1" class="section level4 unnumbered">
<h4>Municipio<a class="anchor" aria-label="anchor" href="#municipio-1"><i class="fas fa-link"></i></a>
</h4>
<p><strong>Se utiliza la base de datos a nivel municipio, ya que esta presenta todo el universo de escuelas en el país.</strong></p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sep_mun</span> <span class="op">&lt;-</span> <span class="va">SEP</span> <span class="op">%&gt;%</span></span>
<span>            <span class="fu">select</span><span class="op">(</span><span class="va">CVE_MUN</span>, <span class="va">`Nivel educativo`</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>             <span class="fu">reshape2</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/reshape2/man/melt.html">melt</a></span><span class="op">(</span><span class="va">.</span>, id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"CVE_MUN"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>              <span class="fu">acast</span><span class="op">(</span><span class="va">.</span>, <span class="va">CVE_MUN</span> <span class="op">~</span> <span class="va">value</span>, drop <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>               <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>                <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/rownames.html">rownames_to_column</a></span><span class="op">(</span><span class="va">.</span>, <span class="st">"CVE_MUN"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                 <span class="fu">mutate</span><span class="op">(</span>CVE_ENT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">.</span><span class="op">$</span><span class="va">CVE_MUN</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                  <span class="fu">relocate</span><span class="op">(</span><span class="va">CVE_ENT</span>, .before <span class="op">=</span> <span class="st">"CVE_MUN"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                   <span class="fu">group_by</span><span class="op">(</span><span class="va">CVE_ENT</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                    <span class="fu">mutate_at</span><span class="op">(</span><span class="fu">vars</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="va">CVE_MUN</span>, <span class="op">-</span><span class="va">CVE_ENT</span><span class="op">)</span><span class="op">)</span>, <span class="fu">funs</span><span class="op">(</span><span class="va">.</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span><span class="op">)</span><span class="op">)</span><span class="op">%&gt;%</span></span>
<span>                     <span class="fu"><a href="https://rdrr.io/r/base/replace.html">replace</a></span><span class="op">(</span><span class="va">.</span>, <span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span>, <span class="fl">0</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/save.html">save</a></span><span class="op">(</span><span class="va">sep_mun</span>, file <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"/Bases/Municipio/Indicadores_Escuelas_SEP.RData"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="localidad-1" class="section level4 unnumbered">
<h4>Localidad<a class="anchor" aria-label="anchor" href="#localidad-1"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sep_loc</span> <span class="op">&lt;-</span> <span class="va">SEP</span> <span class="op">%&gt;%</span></span>
<span>                <span class="fu">select</span><span class="op">(</span><span class="va">CVE_LOC</span>, <span class="va">`Nivel educativo`</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                 <span class="fu">reshape2</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/reshape2/man/melt.html">melt</a></span><span class="op">(</span><span class="va">.</span>, id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"CVE_LOC"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                   <span class="fu">acast</span><span class="op">(</span><span class="va">.</span>, <span class="va">CVE_LOC</span> <span class="op">~</span> <span class="va">value</span>, drop <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                    <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>                     <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/rownames.html">rownames_to_column</a></span><span class="op">(</span><span class="va">.</span>, <span class="st">"CVE_LOC"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                      <span class="fu">mutate</span><span class="op">(</span>CVE_MUN <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">.</span><span class="op">$</span><span class="va">CVE_LOC</span>, <span class="fl">1</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                        <span class="fu">relocate</span><span class="op">(</span><span class="va">CVE_MUN</span>, .before <span class="op">=</span> <span class="st">"CVE_LOC"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                         <span class="fu">group_by</span><span class="op">(</span><span class="va">CVE_MUN</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                          <span class="fu">mutate_at</span><span class="op">(</span><span class="fu">vars</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="va">CVE_LOC</span>, <span class="op">-</span><span class="va">CVE_MUN</span><span class="op">)</span><span class="op">)</span>, <span class="fu">funs</span><span class="op">(</span><span class="va">.</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span><span class="op">)</span><span class="op">)</span><span class="op">%&gt;%</span></span>
<span>                           <span class="fu"><a href="https://rdrr.io/r/base/replace.html">replace</a></span><span class="op">(</span><span class="va">.</span>, <span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span>, <span class="fl">0</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/save.html">save</a></span><span class="op">(</span><span class="va">sep_loc</span>, file <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"/Bases/Localidad/Indicadores_Escuelas_SEP.RData"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="ageb-1" class="section level4 unnumbered">
<h4>AGEB<a class="anchor" aria-label="anchor" href="#ageb-1"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/load.html">load</a></span><span class="op">(</span><span class="st">"Bases/SEP_Estructura_AGEB.RData"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sep_ageb</span> <span class="op">&lt;-</span> <span class="va">sep_ageb</span> <span class="op">%&gt;%</span></span>
<span>                <span class="fu">select</span><span class="op">(</span><span class="va">CVE_AGEB</span>, <span class="va">`Nivel educativo`</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                 <span class="fu">reshape2</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/reshape2/man/melt.html">melt</a></span><span class="op">(</span><span class="va">.</span>, id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"CVE_AGEB"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                   <span class="fu">acast</span><span class="op">(</span><span class="va">.</span>, <span class="va">CVE_AGEB</span> <span class="op">~</span> <span class="va">value</span>, drop <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="co"># drop = FALSE</span></span>
<span>                    <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>                     <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/rownames.html">rownames_to_column</a></span><span class="op">(</span><span class="va">.</span>, <span class="st">"CVE_AGEB"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                      <span class="fu">mutate</span><span class="op">(</span>CVE_LOC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">.</span><span class="op">$</span><span class="va">CVE_AGEB</span>, <span class="fl">1</span>, <span class="fl">9</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                        <span class="fu">relocate</span><span class="op">(</span><span class="va">CVE_LOC</span>, .before <span class="op">=</span> <span class="st">"CVE_AGEB"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                         <span class="fu">group_by</span><span class="op">(</span><span class="va">CVE_LOC</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                          <span class="fu">mutate_at</span><span class="op">(</span><span class="fu">vars</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="va">CVE_AGEB</span>, <span class="op">-</span><span class="va">CVE_LOC</span><span class="op">)</span><span class="op">)</span>, <span class="fu">funs</span><span class="op">(</span><span class="va">.</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span><span class="op">)</span><span class="op">)</span><span class="op">%&gt;%</span></span>
<span>                           <span class="fu"><a href="https://rdrr.io/r/base/replace.html">replace</a></span><span class="op">(</span><span class="va">.</span>, <span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span>, <span class="fl">0</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/save.html">save</a></span><span class="op">(</span><span class="va">sep_ageb</span>, file <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"/Bases/AGEB/Indicadores_Escuelas_SEP.RData"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div id="clues" class="section level3 unnumbered">
<h3>CLUES<a class="anchor" aria-label="anchor" href="#clues"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/load.html">load</a></span><span class="op">(</span><span class="st">"Bases/CLUES_Estructura.RData"</span><span class="op">)</span></span></code></pre></div>
<div id="municipio-2" class="section level4 unnumbered">
<h4>Municipio<a class="anchor" aria-label="anchor" href="#municipio-2"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">clues_mun</span> <span class="op">&lt;-</span> <span class="va">CLUES</span> <span class="op">%&gt;%</span></span>
<span>                <span class="fu">select</span><span class="op">(</span><span class="va">`Nivel de atención`</span>, <span class="va">CVE_MUN</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                 <span class="fu">melt</span><span class="op">(</span><span class="va">.</span>, id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"CVE_MUN"</span><span class="op">)</span><span class="op">)</span>  <span class="op">%&gt;%</span></span>
<span>                  <span class="fu">mutate</span><span class="op">(</span>value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">.</span><span class="op">$</span><span class="va">value</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                   <span class="fu">acast</span><span class="op">(</span><span class="va">.</span>, <span class="va">CVE_MUN</span> <span class="op">~</span> <span class="va">value</span>, drop <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>                    <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>                     <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/rownames.html">rownames_to_column</a></span><span class="op">(</span><span class="va">.</span>, <span class="st">"CVE_MUN"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                      <span class="fu">mutate</span><span class="op">(</span>CVE_ENT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">.</span><span class="op">$</span><span class="va">CVE_MUN</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                       <span class="fu">relocate</span><span class="op">(</span><span class="va">CVE_ENT</span>, .before <span class="op">=</span> <span class="st">"CVE_MUN"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                        <span class="fu">group_by</span><span class="op">(</span><span class="va">CVE_ENT</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                         <span class="fu">mutate_at</span><span class="op">(</span><span class="fu">vars</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="va">CVE_ENT</span>, <span class="op">-</span><span class="va">CVE_MUN</span><span class="op">)</span><span class="op">)</span>,<span class="fu">funs</span><span class="op">(</span><span class="va">.</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span><span class="op">)</span><span class="op">)</span><span class="op">%&gt;%</span></span>
<span>                          <span class="fu"><a href="https://rdrr.io/r/base/replace.html">replace</a></span><span class="op">(</span><span class="va">.</span>, <span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span>, <span class="fl">0</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/save.html">save</a></span><span class="op">(</span><span class="va">clues_mun</span>, file <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"/Bases/Municipio/Indicadores_CLUES.RData"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="localidad-2" class="section level4 unnumbered">
<h4>Localidad<a class="anchor" aria-label="anchor" href="#localidad-2"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">clues_loc</span> <span class="op">&lt;-</span> <span class="va">CLUES</span> <span class="op">%&gt;%</span></span>
<span>                <span class="fu">select</span><span class="op">(</span><span class="va">`Nivel de atención`</span>, <span class="va">CVE_LOC</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                 <span class="fu">melt</span><span class="op">(</span><span class="va">.</span>, id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"CVE_LOC"</span><span class="op">)</span><span class="op">)</span>  <span class="op">%&gt;%</span></span>
<span>                  <span class="fu">mutate</span><span class="op">(</span>value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">.</span><span class="op">$</span><span class="va">value</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                   <span class="fu">acast</span><span class="op">(</span><span class="va">.</span>, <span class="va">CVE_LOC</span> <span class="op">~</span> <span class="va">value</span>, drop <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>                    <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>                     <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/rownames.html">rownames_to_column</a></span><span class="op">(</span><span class="va">.</span>, <span class="st">"CVE_LOC"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                      <span class="fu">mutate</span><span class="op">(</span>CVE_MUN <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">.</span><span class="op">$</span><span class="va">CVE_LOC</span>, <span class="fl">1</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                       <span class="fu">relocate</span><span class="op">(</span><span class="va">CVE_MUN</span>, .before <span class="op">=</span> <span class="st">"CVE_LOC"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                        <span class="fu">group_by</span><span class="op">(</span><span class="va">CVE_MUN</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                         <span class="fu">mutate_at</span><span class="op">(</span><span class="fu">vars</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="va">CVE_MUN</span>, <span class="op">-</span><span class="va">CVE_LOC</span><span class="op">)</span><span class="op">)</span>,<span class="fu">funs</span><span class="op">(</span><span class="va">.</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span><span class="op">)</span><span class="op">)</span><span class="op">%&gt;%</span></span>
<span>                          <span class="fu"><a href="https://rdrr.io/r/base/replace.html">replace</a></span><span class="op">(</span><span class="va">.</span>, <span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span>, <span class="fl">0</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/save.html">save</a></span><span class="op">(</span><span class="va">clues_loc</span>, file <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"/Bases/Localidad/Indicadores_CLUES.RData"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="ageb-2" class="section level4 unnumbered">
<h4>AGEB<a class="anchor" aria-label="anchor" href="#ageb-2"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/load.html">load</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"/Bases/CLUES_Estructura_AGEB.RData"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">clues_ageb</span> <span class="op">&lt;-</span> <span class="va">CLUES_AGEB</span> <span class="op">%&gt;%</span></span>
<span>                <span class="fu">select</span><span class="op">(</span><span class="va">`Nivel de atención`</span>, <span class="va">CVE_AGEB</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                 <span class="fu">melt</span><span class="op">(</span><span class="va">.</span>, id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"CVE_AGEB"</span><span class="op">)</span><span class="op">)</span>  <span class="op">%&gt;%</span></span>
<span>                  <span class="fu">mutate</span><span class="op">(</span>value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">.</span><span class="op">$</span><span class="va">value</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                   <span class="fu">acast</span><span class="op">(</span><span class="va">.</span>, <span class="va">CVE_AGEB</span> <span class="op">~</span> <span class="va">value</span>, drop <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>                    <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>                     <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/rownames.html">rownames_to_column</a></span><span class="op">(</span><span class="va">.</span>, <span class="st">"CVE_AGEB"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                      <span class="fu">mutate</span><span class="op">(</span>CVE_LOC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span><span class="op">(</span><span class="va">.</span><span class="op">$</span><span class="va">CVE_AGEB</span>, <span class="fl">1</span>, <span class="fl">9</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                       <span class="fu">relocate</span><span class="op">(</span><span class="va">CVE_LOC</span>, .before <span class="op">=</span> <span class="st">"CVE_AGEB"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                        <span class="fu">group_by</span><span class="op">(</span><span class="va">CVE_LOC</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                         <span class="fu">mutate_at</span><span class="op">(</span><span class="fu">vars</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="va">CVE_LOC</span>, <span class="op">-</span><span class="va">CVE_AGEB</span><span class="op">)</span><span class="op">)</span>,<span class="fu">funs</span><span class="op">(</span><span class="va">.</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span><span class="op">)</span><span class="op">)</span><span class="op">%&gt;%</span></span>
<span>                          <span class="fu"><a href="https://rdrr.io/r/base/replace.html">replace</a></span><span class="op">(</span><span class="va">.</span>, <span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span>, <span class="fl">0</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/save.html">save</a></span><span class="op">(</span><span class="va">clues_ageb</span>, file <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"/Bases/AGEB/Indicadores_CLUES.RData"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
</div>
<div id="ial" class="section level2 unnumbered">
<h2>IAL<a class="anchor" aria-label="anchor" href="#ial"><i class="fas fa-link"></i></a>
</h2>
<div id="municipio-3" class="section level3 unnumbered">
<h3>Municipio<a class="anchor" aria-label="anchor" href="#municipio-3"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/load.html">load</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"/Bases/Municipio/IA_municipio.Rdata"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="localidad-3" class="section level3 unnumbered">
<h3>Localidad<a class="anchor" aria-label="anchor" href="#localidad-3"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/load.html">load</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"/Bases/Localidad/IA_localidad.Rdata"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div id="entorno-urbano" class="section level2 unnumbered">
<h2>Entorno Urbano<a class="anchor" aria-label="anchor" href="#entorno-urbano"><i class="fas fa-link"></i></a>
</h2>
<p>Dada la importancia de los proyectos sobre el entorno urbano, destacada por informes como el que presentó ONU-Hábitat sobre el Estado de las ciudades en América Latina y el Caribe 2012 o el de CEPAL-CELADE en el cual se afirma que debe adoptarse como acuerdo de trabajo que los temas de entorno, equipamiento y medio ambiente se incorporen a los censos para definir la calidad y adecuación de la vivienda, en particular la urbana.</p>
<p>Algortinmo de integración del Entorno Urbano</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tablas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"0"</span>, <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">9</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">32</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="va">tablas</span><span class="op">)</span><span class="op">{</span></span>
<span> <span class="fu"><a href="https://rdrr.io/r/base/assign.html">assign</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"TI_"</span>, <span class="va">i</span><span class="op">)</span>, <span class="fu">read_sav</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"/TI_MANZANA/TI_MANZANA_EU_"</span>,<span class="va">i</span>,<span class="st">".SAV"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Se agrupan todas las tablas en una sola</span></span>
<span><span class="va">lista</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ls.html">ls</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="st">"TI_"</span><span class="op">)</span></span>
<span><span class="va">MANZANA_EU_2020</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html">do.call</a></span><span class="op">(</span><span class="va">rbind.data.frame</span>, <span class="fu"><a href="https://rdrr.io/r/base/get.html">mget</a></span><span class="op">(</span><span class="va">lista</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">MANZANA_EU_2020</span> <span class="op">&lt;-</span> <span class="va">MANZANA_EU_2020</span> <span class="op">%&gt;%</span> </span>
<span>                    <span class="fu">select</span><span class="op">(</span><span class="st">"ENT"</span>, <span class="st">"CVE_MUN"</span>,<span class="st">"CVE_LOC"</span>,<span class="st">"CVE_AGEB"</span>,<span class="st">"PERSONAS"</span>, <span class="st">"VIVPARHAB"</span>, <span class="st">"TOTLADO"</span>, <span class="st">"TOTVIAL"</span>, <span class="st">"TOTRASGO"</span>, <span class="fu">contains</span><span class="op">(</span><span class="st">"_N"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                     <span class="fu">mutate</span><span class="op">(</span>PAVIM_ADOQ_N <span class="op">=</span> <span class="va">.</span><span class="op">$</span><span class="va">PAVIM_N</span> <span class="op">+</span> <span class="va">.</span><span class="op">$</span><span class="va">ADOQ_N</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                      <span class="fu">select</span><span class="op">(</span><span class="st">"ENT"</span>, <span class="st">"CVE_MUN"</span>,<span class="st">"CVE_LOC"</span>,<span class="st">"CVE_AGEB"</span>,<span class="st">"PERSONAS"</span>, <span class="st">"VIVPARHAB"</span>, <span class="st">"TOTLADO"</span>, <span class="st">"TOTVIAL"</span>, <span class="st">"TOTRASGO"</span>, <span class="va">PAVIM_ADOQ_N</span>, <span class="va">S_RPEAT_N</span>, <span class="va">S_RAUTO_N</span>,</span>
<span>                             <span class="va">C_PASOPEAT_N</span>, <span class="va">C_DRENAJEP_N</span>, <span class="va">C_TRANSCOL_N</span>, <span class="va">C_CICLOVIA_N</span>, <span class="va">C_CICLOCARRIL_N</span>, <span class="va">C_LETRERO_N</span>, <span class="va">C_RAMPA_N</span>, <span class="va">C_SEMAFOROPEAT_N</span>, <span class="va">C_SEMAFOROAUDI_N</span>,</span>
<span>                             <span class="va">C_PARADATRANS_N</span>, <span class="va">C_ESTACIONBICI_N</span>, <span class="va">C_ALUM_N</span>, <span class="va">C_PSEMI_N</span>, <span class="va">S_PAMBU_N</span>, <span class="va">C_BANQ_N</span>, <span class="va">C_GUAR_N</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Se guarda la base de datos donde se integran 16 bases de datos</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/save.html">save</a></span><span class="op">(</span><span class="va">MANZANA_EU_2020</span>, file <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"/Bases/MANZANA_EU_2020.RData"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>No enfocamos en los indicadores númericos.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/load.html">load</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"/Bases/MANZANA_EU_2020.RData"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div id="caso-particular" class="section level3 unnumbered">
<h3>
<code>Caso particular</code><a class="anchor" aria-label="anchor" href="#caso-particular"><i class="fas fa-link"></i></a>
</h3>
<p><strong>Caso particular</strong>
<strong>Municpio de Ocampo / Localidad Melchor Ocampo</strong><br>
Debido a la falta de información de este municipio, se toma como referencia a los municipios vecinos.</p>
<ul>
<li>
<code>08009</code> Bocoyna<br>
</li>
<li>
<code>08031</code> Guerrero<br>
</li>
<li>
<code>08041</code> Maguarichi<br>
</li>
<li>
<code>08047</code> Boris<br>
</li>
<li>
<code>08063</code> Temósachic</li>
<li>
<code>08066</code> Uruachi</li>
</ul>
<center>
<img src="images/Ocampo_Mun.png" id="id" class="class" width="450" height="300">
</center>
<p>Fuente: <a href="https://www.inegi.org.mx/app/mapa/espacioydatos/default.aspx">Espacio y datos de México (INEGI)</a></p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">EU_mun</span> <span class="op">&lt;-</span> <span class="va">MANZANA_EU_2020</span> <span class="op">%&gt;%</span></span>
<span>           <span class="fu">select</span><span class="op">(</span><span class="st">"ENT"</span>, <span class="st">"CVE_MUN"</span>, <span class="st">"PERSONAS"</span>, <span class="st">"VIVPARHAB"</span>, <span class="st">"TOTLADO"</span>, <span class="st">"TOTVIAL"</span>, <span class="st">"TOTRASGO"</span>, <span class="fu">contains</span><span class="op">(</span><span class="st">"_N"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>             <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">CVE_MUN</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"08009"</span>, <span class="st">"08031"</span>, <span class="st">"08041"</span>, <span class="st">"08047"</span>, <span class="st">"08063"</span>, <span class="st">"08066"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>              <span class="fu">select</span><span class="op">(</span><span class="op">-</span><span class="va">CVE_MUN</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                <span class="fu">group_by</span><span class="op">(</span><span class="va">ENT</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>                  <span class="fu">summarise</span><span class="op">(</span><span class="fu">across</span><span class="op">(</span><span class="fu">where</span><span class="op">(</span><span class="va">is.numeric</span><span class="op">)</span>, <span class="va">sum</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                   <span class="fu">ungroup</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                    <span class="fu">mutate_at</span><span class="op">(</span><span class="fu">vars</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="va">ENT</span>, <span class="op">-</span><span class="va">PERSONAS</span>,<span class="op">-</span><span class="va">VIVPARHAB</span>,<span class="op">-</span><span class="va">TOTLADO</span><span class="op">)</span><span class="op">)</span>,<span class="fu">funs</span><span class="op">(</span><span class="op">(</span><span class="va">.</span><span class="op">/</span><span class="va">TOTLADO</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/save.html">save</a></span><span class="op">(</span><span class="va">EU_mun</span>, file <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"/Bases/Municipio/EU_mun.RData"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="nivel-localidad" class="section level3 unnumbered">
<h3>Nivel Localidad<a class="anchor" aria-label="anchor" href="#nivel-localidad"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">EU_loc</span> <span class="op">&lt;-</span> <span class="va">MANZANA_EU_2020</span> <span class="op">%&gt;%</span></span>
<span>             <span class="fu">select</span><span class="op">(</span><span class="st">"CVE_LOC"</span>, <span class="st">"PERSONAS"</span>, <span class="st">"VIVPARHAB"</span>, <span class="st">"TOTLADO"</span>, <span class="st">"TOTVIAL"</span>, <span class="st">"TOTRASGO"</span>, <span class="fu">contains</span><span class="op">(</span><span class="st">"_N"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>              <span class="fu">group_by</span><span class="op">(</span><span class="va">CVE_LOC</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>               <span class="fu">summarise</span><span class="op">(</span><span class="fu">across</span><span class="op">(</span><span class="fu">where</span><span class="op">(</span><span class="va">is.numeric</span><span class="op">)</span>, <span class="va">sum</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                <span class="fu">ungroup</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                 <span class="fu">mutate_at</span><span class="op">(</span><span class="fu">vars</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="va">CVE_LOC</span>, <span class="op">-</span><span class="va">PERSONAS</span>,<span class="op">-</span><span class="va">VIVPARHAB</span>,<span class="op">-</span><span class="va">TOTLADO</span><span class="op">)</span><span class="op">)</span>, <span class="fu">funs</span><span class="op">(</span><span class="op">(</span><span class="va">.</span><span class="op">/</span><span class="va">TOTLADO</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/save.html">save</a></span><span class="op">(</span><span class="va">EU_loc</span>, file <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"/Bases/Localidad/EU_loc.RData"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="nivel-ageb" class="section level3 unnumbered">
<h3>Nivel AGEB<a class="anchor" aria-label="anchor" href="#nivel-ageb"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">EU_ageb</span> <span class="op">&lt;-</span> <span class="va">MANZANA_EU_2020</span> <span class="op">%&gt;%</span></span>
<span>            <span class="fu">select</span><span class="op">(</span><span class="st">"CVE_AGEB"</span>, <span class="st">"PERSONAS"</span>, <span class="st">"VIVPARHAB"</span>, <span class="st">"TOTLADO"</span>, <span class="st">"TOTVIAL"</span>, <span class="st">"TOTRASGO"</span>, <span class="fu">contains</span><span class="op">(</span><span class="st">"_N"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>              <span class="fu">group_by</span><span class="op">(</span><span class="va">CVE_AGEB</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>               <span class="fu">summarise</span><span class="op">(</span><span class="fu">across</span><span class="op">(</span><span class="fu">where</span><span class="op">(</span><span class="va">is.numeric</span><span class="op">)</span>, <span class="va">sum</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                <span class="fu">ungroup</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>                 <span class="fu">mutate_at</span><span class="op">(</span><span class="fu">vars</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="va">CVE_AGEB</span>, <span class="op">-</span><span class="va">PERSONAS</span>,<span class="op">-</span><span class="va">VIVPARHAB</span>,<span class="op">-</span><span class="va">TOTLADO</span><span class="op">)</span><span class="op">)</span>, <span class="fu">funs</span><span class="op">(</span><span class="op">(</span><span class="va">.</span><span class="op">/</span><span class="va">TOTLADO</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/save.html">save</a></span><span class="op">(</span><span class="va">EU_ageb</span>, file <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"/Bases/AGEB/EU_ageb.RData"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>

</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="metodolog%C3%ADa.html">Metodología</a></div>
<div class="next"><a href="municipio-4.html">Municipio</a></div>
</div></main><div class="col-md-2 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <img id="cover" class="d-none d-lg-block" src="https://raw.githubusercontent.com/dvillasanao/ICE_2020/main/images/logo.svg" width="198.43" height="190.43" style="margin: 0 auto; max-width: 70%; max-height: 50%;"><nav id="toc" data-toggle="toc" aria-label="On this page" class="indice_derecha"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#fuentes-de-informaci%C3%B3n">Fuentes de información</a></li>
<li><a class="nav-link" href="#cpv2020">CPV2020</a></li>
<li>
<a class="nav-link" href="#equipamiento">Equipamiento</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#denue">DENUE</a></li>
<li><a class="nav-link" href="#sep">SEP</a></li>
<li><a class="nav-link" href="#clues">CLUES</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#ial">IAL</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#municipio-3">Municipio</a></li>
<li><a class="nav-link" href="#localidad-3">Localidad</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#entorno-urbano">Entorno Urbano</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#caso-particular">Caso particular</a></li>
<li><a class="nav-link" href="#nivel-localidad">Nivel Localidad</a></li>
<li><a class="nav-link" href="#nivel-ageb">Nivel AGEB</a></li>
</ul>
</li>
</ul>
      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/dvillasanao/ICE_2020/blob/master/02_Bases.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/dvillasanao/ICE_2020/edit/master/02_Bases.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container-fluid">
    <div class="row">
      <div class="d-none d-lg-block col-lg-2 sidebar"></div>
      <div class="col-sm-12 col-md-9 col-lg-7 mt-3" style="max-width: 45rem;">
        <p>"Índice de Calidad del Entorno 2020" was written by Diana Villasana Ocampo.</p>
      </div>
      <div class="col-md-3 col-lg-3 d-none d-md-block sidebar"></div>
    </div>
  </div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
